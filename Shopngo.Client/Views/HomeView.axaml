<UserControl xmlns="https://github.com/avaloniaui"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
             xmlns:vm="using:Shopngo.Client.ViewModels"
             xmlns:asyncImageLoader="clr-namespace:AsyncImageLoader;assembly=AsyncImageLoader.Avalonia"
             mc:Ignorable="d" d:DesignWidth="800" d:DesignHeight="450"
             x:Class="Shopngo.Client.Views.HomeView"
             x:DataType="vm:HomeViewModel">

    <Grid RowDefinitions="Auto, *">
        <Border Grid.Row="0" Background="#212121" Padding="20">
            <StackPanel Orientation="Horizontal" Spacing="10">
                <TextBlock Text="Shop'n'Go" FontSize="24" FontWeight="Bold" Foreground="White" />
                <TextBlock Text="Desktop Edition" VerticalAlignment="Bottom" Foreground="#AAAAAA" />
            </StackPanel>
        </Border>
        
        <ScrollViewer Grid.Row="1">
            <ItemsControl ItemsSource="{Binding Products}" Margin="20">
                <ItemsControl.ItemsPanel>
                    <ItemsPanelTemplate>
                        <WrapPanel HorizontalAlignment="Center" />
                    </ItemsPanelTemplate>
                </ItemsControl.ItemsPanel>

                <ItemsControl.ItemTemplate>
                    <DataTemplate>
     
                        <Border Width="220" Margin="10" Background="#2D2D2D" CornerRadius="8" Padding="15"
                                BoxShadow="0 4 10 0 #10000000">
                            <StackPanel Spacing="12">
                                <Border CornerRadius="6" ClipToBounds="True" Background="White" Height="160">
                                    <Image asyncImageLoader:ImageLoader.Source="{Binding Image}"
                                           Stretch="Uniform" Margin="10" />
                                </Border>
                                <TextBlock Text="{Binding Title}" Foreground="White" TextTrimming="CharacterEllipsis"
                                           MaxLines="2" Height="40" FontSize="14" FontWeight="SemiBold" />
                                <StackPanel Orientation="Horizontal" Spacing="5">
                                    <TextBlock Text="â­" FontSize="12" />
                                    <TextBlock Text="{Binding Rating.Rate}" Foreground="#FFD700" FontWeight="Bold" />
                                    <TextBlock Text="{Binding Rating.Count, StringFormat='({0})'}" Foreground="#888888"
                                               FontSize="12" />
                                </StackPanel>
                                <TextBlock Text="{Binding Price, StringFormat='${0:F2}'}" Foreground="#4CAF50"
                                           FontSize="18" FontWeight="Bold" />
                            </StackPanel>
                        </Border>
                    </DataTemplate>
                </ItemsControl.ItemTemplate>
            </ItemsControl>
        </ScrollViewer>
        
        <ProgressBar Grid.Row="1" IsIndeterminate="True" IsVisible="{Binding IsLoading}" VerticalAlignment="Top"
                     Background="Transparent" Foreground="#4CAF50" Height="4" />
    </Grid>
</UserControl>